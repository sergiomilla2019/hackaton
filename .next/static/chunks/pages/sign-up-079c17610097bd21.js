(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[801],{2295:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-up",function(){return t(2838)}])},3399:function(e,n,t){"use strict";var r=t(5893);t(7294);var i=t(1664),s=t.n(i),a=t(8346),o=function(e){var n=e.children,t=e.href;return(0,r.jsx)(s(),{href:t,passHref:!0,children:(0,r.jsx)(a.Z,{children:n})})};n.Z=o},5886:function(e,n,t){"use strict";t.d(n,{Z:function(){return T}});var r=t(5893),i=t(7294),s=t(9008),a=t.n(s),o=t(6336),l=t(918),c=t(603),u=t(1163),d=t(1664),h=t.n(d),x=t(3299),p=t(5050),f=t(1953),m=t(784),j=t(562),g=t(9630),Z=t(8113),v=t(326),y=t(4731),w=t(1893),b=t(1538),k=t(2486),S=t(4373),_=t(6076),C=[{title:"Home",link:"/"},],E=[{title:"Dashboard",link:"/app/dashboard"},{title:"Settings",link:"/app/settings"},],N=[{title:"Sign-up",link:"/sign-up"},{title:"Login",link:"/login"},],P=function(e){var n=e.transparentNav,t=(0,u.useRouter)(),s=(0,x.useSession)().data,a=(0,c.Z)(i.useState(null),2),l=a[0],d=a[1],P=(0,c.Z)(i.useState(null),2),z=P[0],A=P[1],O=function(e){d(e.currentTarget)},T=function(e){A(e.currentTarget)},W=function(){d(null)},G=function(){A(null)};return(0,r.jsx)(p.Z,{position:"static",color:n?"transparent":"primary",style:n?{boxShadow:"none"}:{},children:(0,r.jsx)(o.Z,{maxWidth:"lg",children:(0,r.jsxs)(m.Z,{disableGutters:!0,children:[(0,r.jsx)(k.Z,{sx:{display:{xs:"none",md:"flex"},mr:1}}),(0,r.jsx)(g.Z,{variant:"h6",noWrap:!0,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:_.i}),(0,r.jsxs)(f.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,r.jsx)(j.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:O,color:"inherit",children:(0,r.jsx)(v.Z,{})}),(0,r.jsxs)(Z.Z,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(l),onClose:W,sx:{display:{xs:"block",md:"none"}},children:[C.map(function(e){return(0,r.jsx)(h(),{href:e.link,children:(0,r.jsx)(b.Z,{selected:e.link===t.asPath,children:(0,r.jsx)(g.Z,{textAlign:"center",children:e.title})})},e.title)}),(0,r.jsx)(S.Z,{}),N.map(function(e){return(0,r.jsx)(h(),{href:e.link,children:(0,r.jsx)(b.Z,{selected:e.link===t.asPath,children:(0,r.jsx)(g.Z,{textAlign:"center",children:e.title})})},e.title)})]})]}),(0,r.jsx)(k.Z,{sx:{display:{xs:"flex",md:"none"},mr:1}}),(0,r.jsx)(g.Z,{variant:"h5",noWrap:!0,sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:_.i}),(0,r.jsx)(f.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:C.map(function(e){return(0,r.jsx)(h(),{href:e.link,children:(0,r.jsx)(b.Z,{selected:e.link===t.asPath,children:(0,r.jsx)(g.Z,{textAlign:"center",children:e.title})})},e.title)})}),!!s&&(0,r.jsxs)(f.Z,{sx:{flexGrow:0},children:[(0,r.jsx)(w.Z,{title:"Open settings",children:(0,r.jsx)(j.Z,{onClick:T,sx:{p:0},children:(0,r.jsx)(y.Z,{alt:"Remy Sharp",src:"/static/images/avatar/2.jpg"})})}),(0,r.jsxs)(Z.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:z,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(z),onClose:G,children:[E.map(function(e){return(0,r.jsx)(h(),{href:e.link,children:(0,r.jsx)(b.Z,{selected:e.link===t.asPath,children:(0,r.jsx)(g.Z,{textAlign:"center",children:e.title})})},e.title)}),(0,r.jsx)(b.Z,{onClick:x.signOut,children:(0,r.jsx)(g.Z,{textAlign:"center",children:"Logout"})})]})]}),!s&&(0,r.jsx)(f.Z,{sx:{flexGrow:0,display:{xs:"none",md:"flex"}},children:N.map(function(e){return(0,r.jsx)(h(),{href:e.link,children:(0,r.jsx)(b.Z,{children:(0,r.jsx)(g.Z,{textAlign:"center",children:e.title})})},e.title)})})]})})})},z=t(3243),A=t.n(z),O=t(3399),T=function(e){var n=e.children,t=e.title,i=e.description,s=e.noAppNameInTitle,c=e.transparentNav,u="".concat(t).concat(s?"":" | ".concat(_.i)),d=new Date;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:u}),(0,r.jsx)("meta",{name:"description",content:i}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(P,{transparentNav:c}),(0,r.jsx)(o.Z,{maxWidth:"lg",component:"main",className:A().container,children:n}),(0,r.jsx)(l.Z,{component:"footer",sx:{backgroundColor:"primary.main"},className:A().footer,children:(0,r.jsxs)(o.Z,{maxWidth:"lg",className:A().footerInner,children:[(0,r.jsxs)("span",{children:["\xa9 ",d.getFullYear()," ",_.i]}),(0,r.jsx)(O.Z,{href:"/privacy",children:"Privacy"})]})})]})}},2838:function(e,n,t){"use strict";t.r(n);var r=t(7568),i=t(655),s=t(5893),a=t(7294),o=t(1163),l=t(3299),c=t(9837),u=t(1953),d=t(1359),h=t(5084),x=t(7971),p=t(9630),f=t(5886),m=t(3399),j=function(){var e=(0,o.useRouter)(),n=(0,l.useSession)(),t=n.data,j=n.loading,g=(0,a.useState)(!1);g[0],g[1];var Z=(0,a.useState)(!1),v=Z[0],y=Z[1],w=(0,a.useState)(""),b=w[0],k=w[1],S=(0,a.useState)(""),_=S[0],C=S[1],E=(0,a.useState)(""),N=E[0],P=E[1];(0,a.useEffect)(function(){t&&e.push("/app/dashboard")},[t,e]);var z=function(e){if(e.preventDefault(),_!==N)y("The passwords do not match.");else{var n,t={method:"POST",body:JSON.stringify({email:b,password:_}),headers:{"Content-Type":"application/json"}};fetch("/api/auth/sign-up",t).then((n=(0,r.Z)(function(e){return(0,i.__generator)(this,function(n){switch(n.label){case 0:if(409!==e.status)return[3,1];return console.log("ERR",e),y("A user with this E-Mail already exists."),[3,4];case 1:return[4,e.json()];case 2:return n.sent(),[4,(0,l.signIn)("credentials",{redirect:!1,username:b,password:_})];case 3:n.sent(),n.label=4;case 4:return[2]}})}),function(e){return n.apply(this,arguments)})).catch(function(e){return y("Unexpected Error")})}};return j?(0,s.jsx)("div",{}):(0,s.jsx)(f.Z,{title:"Sign Up",description:"Create a new account for your own micro-blogging website.",children:(0,s.jsx)(c.Z,{sx:{width:300,margin:"0 auto"},children:(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(p.Z,{gutterBottom:!0,variant:"h5",component:"h1",style:{textAlign:"center"},children:"Sign-up"}),(0,s.jsxs)(u.Z,{component:"form",sx:{"& .MuiTextField-root":{m:"10px 0",width:"100%"}},onSubmit:z,children:[(0,s.jsx)(x.Z,{required:!0,error:!!v,label:"E-Mail",variant:"outlined",value:b,size:"small",type:"email",onChange:function(e){k(e.target.value)}}),(0,s.jsx)(x.Z,{required:!0,error:!!v,label:"Password",variant:"outlined",type:"password",value:_,size:"small",onChange:function(e){y(""),C(e.target.value)}}),(0,s.jsx)(x.Z,{required:!0,error:!!v,label:"Repeat password",variant:"outlined",type:"password",value:N,size:"small",onChange:function(e){y(""),P(e.target.value)}}),!!v&&(0,s.jsx)(p.Z,{gutterBottom:!0,color:"error.main",style:{fontSize:"0.8em"},children:v}),(0,s.jsx)(h.Z,{variant:"contained",type:"submit",style:{margin:"10px 0 20px",width:"100%"},children:"Sign-up"}),(0,s.jsx)(m.Z,{href:"/login",children:(0,s.jsx)(p.Z,{gutterBottom:!0,style:{fontSize:"1em"},children:"Already have an account?"})})]})]})})})};n.default=j},6076:function(e,n,t){"use strict";t.d(n,{i:function(){return r}});var r="Web App"},3243:function(e){e.exports={container:"PublicLayout_container__QXvFV",footer:"PublicLayout_footer__zj3I5",footerInner:"PublicLayout_footerInner__EGjI8"}}},function(e){e.O(0,[661,314,541,452,509,774,888,179],function(){return e(e.s=2295)}),_N_E=e.O()}]);